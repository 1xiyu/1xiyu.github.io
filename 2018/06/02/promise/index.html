<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="litchi"><link rel="alternative" href="/atom.xml" title="fe ? not exsit ?" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>èµ°è¿›åŸºç¡€ï¼špromise &amp;&amp; me ? - fe ? not exsit ?</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0"><header class="head"><h1 class="head-title u-fl"><a href="/">fe ? not exsit ?</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">ã‚«ã‚¿ãƒ­ã‚°/ï¼ˆç›®å½•ï¼‰</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"> <time class="post__time" datetime="2018-06-02T06:03:54.116Z">June 2, 2018</time><h1 class="post__title"><a href="/2018/06/02/promise/">èµ°è¿›åŸºç¡€ï¼špromise &amp;&amp; me ?</a></h1><div class="post__main echo"><p>è®°å½•ä¸€ä¸‹æ­¤åˆ»çš„å¿ƒæƒ…ï¼Œäº”å‘³æ‚é™ˆï¼Œæ¯å‘¨ç¹å¿™çš„å®‰æ’ç€è‡ªå·±ï¼Œä¸å†åƒ16å¹´åˆšæ¥åŒ—äº¬çš„æ—¶å€™å„ç§é¸¡æ±¤äººç”Ÿï¼Œä»¥ä¸€ä»½ç¾å¥½çš„å·¥ä½œä¸ºæ†§æ†¬ä¸æ–­å­¦ä¹ ï¼Œç°åœ¨å­¦ä¹ çš„ç›®çš„æœ‰å¤šå°‘å‡ºäºçœŸæ­£çš„å…´è¶£ä¹Ÿè¯´ä¸ä¸Šæ¥äº†ã€‚å¯å”¯ä¸€æœ€å¥½çš„ä¹Ÿä»…èƒ½åšçš„å°±æ˜¯åšæŒä»£ç äººç”Ÿã€‚ä¸å†ä¿¡ä»°æˆåŠŸå­¦ï¼Œå¯¹è‡ªå·±å¹³å‡¡çš„è®¤è¯†æ„ˆæ¥æ„ˆæ·±ã€‚è¿·èŒ«äº†ä¹Ÿèƒ½æ…¢æ…¢è°ƒèŠ‚è‡ªå·±ï¼Œè™½ç„¶å¯¹å‰è·¯ä»æœªå¯çŸ¥ï¼Œä¾ç„¶å‘å¾€å‡ å¹´åæ°å‡ºçš„è‡ªå·±ã€‚æœ€è¿‘å•ä½æ¥äº†ä¸ªå®ä¹ ç”Ÿï¼Œä»ä»–èº«ä¸Šçœ‹åˆ°äº†è‡ªå·±æˆé•¿çš„ç—•è¿¹ã€‚èº«å¤„æ­£é—¨å´é‡è·¯å­å‡ºå®¶ä¹Ÿèƒ½åšçš„å¾ˆæ£’å‘€ã€‚ã€‚èµ·ç åœ¨ç›®å‰åŠªåŠ›çš„äººä¹‹ä¸Šã€‚ã€‚ä¸€å¥è¯ï¼ŒåŠ æ²¹å§ã€‚ã€‚ä»Šå¤©å¹²promiseå§ï¼Œç›®å‰ä¸ä»–çš„å…³ç³»å°±æ˜¯ç»å¸¸ç”¨å®ƒï¼Œä¼¼ç†Ÿæ‚‰ä¼¼ä¸ç†Ÿæ‚‰ï¼Œä»Šå¤©çºªå½•ä¹‹ã€‚</p>
<h2 id="define"><a href="#define" class="headerlink" title="define"></a>define</h2><p>mdnä¸Šè®²ç”¨äºå¼‚æ­¥æ“ä½œï¼Œè¡¨ç¤ºä¸€ä¸ªç°åœ¨å°†æ¥æ°¸è¿œä¸å¯èƒ½ç”¨çš„å€¼ã€‚è‡ªå·±çš„æ¦‚æ‹¬ä¸ºå¼‚æ­¥æ“ä½œæŒ‰æœŸæœ›çš„é¡ºåºæ¥å¤„ç†ï¼Œåœ¨å¯¹è±¡ä¹‹é—´ä¼ é€’promiseå¸®å¿™å¤„ç†é˜Ÿåˆ—ã€‚ä¸‹æ–‡ä¸­æŠŠpromiseè¿˜æ˜¯å«åšå¥¹å§ã€‚æ¯•ç«Ÿç¨‹åºå‘˜çš„æµªæ¼«ã€‚</p>
<h2 id="background"><a href="#background" class="headerlink" title="background"></a>background</h2><p>å¼‚æ­¥æ“ä½œçš„å‡ºç°çš„åŸå› ï¼š èŠ‚çœæ—¶é—´èƒ½å¹²åšaåˆèƒ½åšbæ›´åŠ é«˜æ•ˆç‡çš„äº‹æƒ…ã€‚</p>
<p>å¼‚æ­¥æ“ä½œçš„å®ç°ï¼š äº‹ä»¶ï¼Œå›è°ƒï¼Œpromiseï¼Œasync await</p>
<p>å¼‚æ­¥å›è°ƒæ“ä½œçš„å‰¯ä½œç”¨ï¼š </p>
<ul>
<li>åµŒå¥—å±‚æ¬¡å¾ˆæ·±ï¼Œé‡‘å­—å¡”å½¢çŠ¶çš„å›è°ƒåœ°ç‹±ï¼ˆä¸å¯ç»´æŠ¤ï¼‰ã€‚</li>
<li>å¼‚æ­¥å‡½æ•°æ˜¯æ”¾åœ¨å¦ä¸€ä¸ªæ–°æ ˆå¼€å§‹æ‰§è¡Œï¼Œæ²¡åŠæ³•è·å–å‰ä¸€ä¸ªæ ˆçš„ä¿¡æ¯ï¼Œä¹‹å‰çš„æ ˆæ²¡æœ‰åŠæ³•è·å–å¼‚æ­¥å‡½æ•°æ ˆæŠ›å‡ºçš„é”™è¯¯ï¼Œå°±æ— æ³•ä½¿ç”¨trycatchæ¥å¤„ç†é”™è¯¯ã€‚</li>
<li>æ— æ³•é¢„ä¼°å¼‚æ­¥ä»€ä¹ˆæ—¶é—´å®Œæˆå›è°ƒï¼Œåªèƒ½åœ¨å¤–å±‚ä½œç”¨åŸŸç”Ÿå‘½å˜é‡äº¤ç»™å†…å±‚ä½œç”¨åŸŸä½¿ç”¨ï¼Œå¯¼è‡´è¿™äº›å˜é‡å¯èƒ½è¢«æ›´æ·±ä½œç”¨åŸŸè¡Œä¸ºæ”¹å˜ï¼Œå‘ç”ŸæœªçŸ¥é”™è¯¯ã€‚ï¼ˆå¤šä¸ªå›è°ƒå‡½æ•°ä¹‹é—´éš¾ä»¥å»ºç«‹è”ç³»ï¼‰</li>
<li>æ— æ³•æ­£å¸¸æ£€ç´¢å †æ ˆä¿¡æ¯ã€‚</li>
<li>callbackçš„å˜é‡å…±äº«ï¼Œå…³è”çš„ä¸šåŠ¡æ¨¡å—è¾ƒå¤šéš¾ä»¥ç»´æŠ¤ã€‚</li>
</ul>
<h2 id="what-amp-amp-how"><a href="#what-amp-amp-how" class="headerlink" title="what &amp;&amp; how"></a>what &amp;&amp; how</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">new Promise( (resolve, reject) =&gt; &#123;</span><br><span class="line">    // todo1 ...</span><br><span class="line">    resolve();</span><br><span class="line">    // todo ...</span><br><span class="line">    reject();</span><br><span class="line">&#125;).then( () =&gt; &#123; </span><br><span class="line">    // deal resolve</span><br><span class="line">&#125;, () =&gt; &#123;  </span><br><span class="line">    //deal reject</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å…ˆæ˜ç¡®å¥¹çš„ä¸‰ä¸ªçŠ¶æ€ï¼š pendingã€fulfilledã€rejectedã€‚</p>
</blockquote>
<p>æœ‰æ²¡æœ‰å‘ç°ï¼Œå¥¹çš„è¿‡ç¨‹å¾ˆåƒä¸€ä¸ªä»£ç†å¼‚æ­¥çš„å¯¹è±¡ï¼Œå¼•å…¥ä¸€ä¸ªthenå›è°ƒã€‚æ‰§è¡Œtodo1çš„è¿‡ç¨‹ä¸­ä¸ºpendingçŠ¶æ€ï¼Œæ¯•ç«Ÿå¥³äººéƒ½æ˜¯æ°´åšçš„ï¼Œç›´è‡³resolveæˆ–è€…rejectæŠŠå¥¹transformä¸ºfulfilledæˆ–è€…rejectedçŠ¶æ€ã€‚ç«‹å³æ‰§è¡Œthençš„å“åº”å›è°ƒï¼Œè€Œä¸”éœ€è¦æ˜ç¡®çš„æ˜¯å¥¹æ˜¯åšè´çš„ï¼Œå¥¹çš„çŠ¶æ€ä¸€ç»æ”¹å˜å°±ä¸ä¼šåœ¨å‘ç”Ÿå˜åŒ–ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//ç®€å•demo</span><br><span class="line">new Promise( resolve =&gt; &#123;</span><br><span class="line">    setTimeout( () =&gt; &#123;</span><br><span class="line">        console.log(&apos;litchi&apos;);</span><br><span class="line">        resolve();</span><br><span class="line">    &#125;,3000)</span><br><span class="line">&#125;).then( () =&gt; &#123;</span><br><span class="line">    console.log(&apos;gogogo&apos;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å…³äºå¥¹çš„then</p>
</blockquote>
<p>å¦‚æœæ˜¯resolveä¸­å¯ä»¥ä¼ é€’ä¸€ä¸ªä»»æ„å€¼ä»–ä¼šç”Ÿæˆä¸€ä¸ªpromiseç±»å‹çš„valueä¼ é€’ç»™thençš„å›è°ƒè¿›è¡Œä½¿ç”¨ï¼›1ã€å‚æ•°ä¸ºä¸¤ä¸ªå‡½æ•°fulfilledå’Œresolveå‡½æ•°ã€‚è€Œä¸”ä¼šè¿”å›ä¸€ä¸ªæ–°çš„promiseå¯¹è±¡æˆ–è€…ç©ºã€‚2ã€å¦‚è‹¥æ— è¿”å›å€¼ï¼Œä¼šç«‹å³æ‰§è¡Œä¸‹ä¸€ä¸ªé“¾å¼thençš„è°ƒç”¨ï¼›</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">//ç®€å•demo</span><br><span class="line">new Promise( resolve =&gt; &#123;</span><br><span class="line">    setTimeout( () =&gt; &#123;</span><br><span class="line">        resolve(&apos;litchi&apos;);</span><br><span class="line">    &#125;,3000)</span><br><span class="line">&#125;).then( (data) =&gt; &#123;</span><br><span class="line">    console.log(Object.prototype.toString.call(data));  //[object Promise]</span><br><span class="line">    console.log(&apos;gogogo&apos;);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// å¦‚è‹¥ä¸</span><br><span class="line">new Promise( (resolve, reject) =&gt; &#123;</span><br><span class="line">    setTimeout( () =&gt; &#123;</span><br><span class="line">        console.log(&apos;litchi&apos;);</span><br><span class="line">        resolve(&apos;hello&apos;);</span><br><span class="line">    &#125;,1000)</span><br><span class="line">&#125;).then( res =&gt; &#123;</span><br><span class="line">    //å¦‚è‹¥ä¸return ä¸€ä¸ªpromise</span><br><span class="line">&#125;).then( data =&gt; &#123;</span><br><span class="line">    console.log(data);  //undefine</span><br><span class="line">&#125;)</span><br><span class="line">// å†æ‹‰ä¸€ä¸ªä¾‹å­  </span><br><span class="line"></span><br><span class="line">new Promise( (resolve, reject) =&gt; &#123;</span><br><span class="line">    setTimeout( () =&gt; &#123;</span><br><span class="line">        console.log(&apos;litchi&apos;);</span><br><span class="line">        resolve(&apos;hello&apos;);</span><br><span class="line">    &#125;,1000)</span><br><span class="line">&#125;).then( res =&gt; &#123;</span><br><span class="line">    (function()&#123;</span><br><span class="line">        return new Promise( (r,j) =&gt; &#123;</span><br><span class="line">            setTimeout( () =&gt; &#123;</span><br><span class="line">                console.log(&apos;hi&apos;);</span><br><span class="line">                r(&apos;hi&apos;);</span><br><span class="line">            &#125;, 2000)</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;());</span><br><span class="line">    return &apos;i am jackMa&apos;;</span><br><span class="line">&#125;).then( data =&gt; &#123;</span><br><span class="line">    console.log(data);</span><br><span class="line">&#125;)</span><br><span class="line">// litchi</span><br><span class="line">// i am jackMa</span><br><span class="line">// hi</span><br><span class="line">// åŒ¿åå‡½æ•°åªæ˜¯ä¸ªå‡è±¡</span><br></pre></td></tr></table></figure>
<p> å¦‚æœthené‡Œé¢è¿˜æœ‰then, è¿˜æ˜¯ä¸ªå‡è±¡ï¼Œä»¥é¡ºåºé˜Ÿåˆ—ä¹‹è¡Œï¼Œthenè¿”å›çš„ä»æ˜¯promiseï¼Œç­‰å¾…æœ€å†…å±‚çš„promiseè¿”å›åœ¨æ‰§è¡Œä¹‹åçš„å¤–å±‚then </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//  åä¸ªæ§½ï¼Œä¸ªäººå¾ˆå®¹æ˜“è½ä¸‹newã€‚ã€‚= =ã€‚ã€‚</span><br><span class="line">// output: 2</span><br><span class="line">new Promise( (r, j) =&gt; &#123;</span><br><span class="line">    r(1);</span><br><span class="line">&#125;).then( res =&gt; &#123;</span><br><span class="line">    return new Promise( (r, j) =&gt; &#123;</span><br><span class="line">        r(2);</span><br><span class="line">    &#125;).then(data =&gt; &#123;</span><br><span class="line">        return data;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;).then(res =&gt; &#123;</span><br><span class="line">    console.log(res);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å…³äºå¥¹çš„é”™è¯¯å¤„ç†</p>
</blockquote>
<p>1ã€äº¤ç»™rejectè¿›è¡Œé”™è¯¯å¤„ç†   reject().then(null, () =&gt; { //handle error })<br>2ã€catchè¿›è¡Œé”™è¯¯å¤„ç†        promise().catch(err =&gt; { //handle error })</p>
<p>ç¼ºç‚¹ï¼šæ— æ³•å¤„ç†æ‰§è¡Œæ ˆçš„åŸºå±‚è¿è¡Œæ—¶çš„é”™è¯¯ï¼Œä½†èƒ½æ•è·åˆ°å¼‚æ­¥å›è°ƒå®Œæˆçš„è¿™éƒ¨åˆ†æ ˆä¿¡æ¯ã€‚</p>
<p>.catch().then()</p>
<p>å¦‚è‹¥catchæ²¡æœ‰æŠ›å‡ºé”™è¯¯ï¼Œå¥¹ä»ç„¶è¿”å›promiseï¼Œå¦‚æœä»æœ‰thençš„é˜Ÿåˆ—ï¼Œä»ç„¶å¯ä»¥ç»§ç»­æ‰§è¡Œã€‚</p>
<blockquote>
<p>å¥¹çš„å¸¸ç”¨å‡½æ•°</p>
</blockquote>
<p>promise.all([â€¦arr]);</p>
<ul>
<li>æ‰€æœ‰promiseå®Œæˆï¼Œå®ƒæ‰å®Œæˆã€‚</li>
<li>å…¶ä¸­ä¸€ä¸ªå¤±è´¥åˆ™rejectã€‚</li>
<li>è¿”å›çš„ä»æ˜¯promiseã€‚</li>
<li>å‚æ•°æ˜¯æ•°ç»„ï¼Œå¦‚æœæŸå…ƒç´ ä¸æ˜¯promiseï¼Œåˆ™ç›´æ¥thenå›è°ƒã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// output: [1,2]</span><br><span class="line">// è¿™ä¸ªæ—¶å€™æ–°è¿”å›çš„promiseä¸€ç›´æ˜¯pendingçŠ¶æ€ï¼Œå»ºè®®resloveæ‰ã€‚</span><br><span class="line">var a = new Promise( (r,j) =&gt; &#123; r(1)&#125; );</span><br><span class="line">var b = new Promise( (r,j) =&gt; &#123; r(2)&#125; );</span><br><span class="line">Promise.all([a,b]).then(res =&gt; &#123;</span><br><span class="line">    console.log(res);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//ä¸€æ®µä¼ªä»£ç  ajaxè¯·æ±‚1è¯·æ±‚2å¹¶è¡Œè¯·æ±‚ï¼Œåœ¨thené‡Œæ‰§è¡Œç»“æœã€‚</span><br><span class="line">request 1 </span><br><span class="line">request 2</span><br><span class="line">return Promise.all([req1,req2].map( (res) =&gt; &#123;</span><br><span class="line">	return new Promise(r =&gt; &#123;</span><br><span class="line">		if(res.code == 200) &#123;</span><br><span class="line">			resolve(res.data);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;)</span><br><span class="line">&#125; )).then( data =&gt; &#123;</span><br><span class="line">	//todo data</span><br><span class="line">&#125;).catch(err =&gt; &#123;</span><br><span class="line">    throw err;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>Promise.resolve()</p>
<p>//è¿”å›ä¸€ä¸ªfulfilledçš„promiseå®ä¾‹</p>
<ul>
<li>å‚æ•°ä¸ºç©ºæˆ–è€…épromise åˆ™è¿”å›fulfilledå®ä¾‹</li>
<li>è‹¥ä¸ºpromiseï¼Œåˆ™ç›´æ¥è¿”å›</li>
<li>è‹¥æœæ˜¯ä¸€ä¸ªthenableï¼Œç›´æ¥è°ƒç”¨then</li>
</ul>
<p>Promise.reject()</p>
<p>//è¿”å›ä¸€ä¸ªrejectçš„promiseå®ä¾‹</p>
<ul>
<li>å‚æ•°ä¸ºç©ºæˆ–è€…épromise åˆ™è¿”å›fulfilledå®ä¾‹</li>
<li>è‹¥ä¸ºpromiseï¼Œåˆ™ç›´æ¥è¿”å›</li>
</ul>
<p>Promise.race([â€¦arr])</p>
<p>//ç”¨äºç½‘ç»œè¶…æ—¶æç¤ºç”¨æˆ·</p>
<ul>
<li>ä¸€ä¸ªpromiseå®Œæˆï¼Œå®ƒå°±ç®—å®Œæˆã€‚</li>
<li>ä½†æ˜¯arré‡Œé¢çš„æ¯ä¸ªå…ƒç´ éƒ½ä¼šæ‰§è¡Œã€‚</li>
</ul>
<blockquote>
<p>åº”ç”¨</p>
</blockquote>
<p>babel-polyfillæ¥å…¼å®¹hack<br>fetch api å…·ä½“åº”ç”¨</p>
<blockquote>
<p>æ€»ç»“  </p>
</blockquote>
<p>åç»­ä¼šå°è£…ä¸€ä¸ªajaxè¯·æ±‚çš„ä¾‹å­ï¼Œä»ç„¶ä¼šè¡¥å……å®Œå–„è¯¥ç¯‡åšå®¢ã€‚å¯¹äºasync/await ä¹Ÿä¼šåç»­è¡¥å……åˆ°å¦ä¸€ç‰‡åšå®¢ã€‚è¯¥ç¯‡åšå®¢å¯¹ç†è§£åŠ æ·±äº†ä¸€æ­¥æŠŠï¼Œä½†èƒ½å¤Ÿå¯¹äººè®²è¿°promiseçš„çŸ¥è¯†ç‚¹äº†ï¼Œæœ‰æ²¡æœ‰ï¼ğŸ˜„ğŸ˜„ğŸ˜„</p>
</div></header></article><div class="comments" id="lv-container" data-id="city" data-uid="MTAyMC8zNjg0OS8xMzM4NQ=="><script>(function(d, s) {var j, e = d.getElementsByTagName(s)[0];if (typeof LivereTower === 'function') { return; } j = d.createElement(s);j.src = 'https://cdn-city.livere.com/js/embed.dist.js';j.async = true;e.parentNode.insertBefore(j, e);})(document, 'script');</script></div></main><footer class="foot"><div class="foot-copy">&copy; 2016-2018 litchi</div></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>